import React, { useState } from "react";
import { motion } from "framer-motion";
import Particles from "react-tsparticles";
import { FaLinkedin, FaGithub, FaTwitter } from 'react-icons/fa';

export default function Portfolio() {
  const [darkMode, setDarkMode] = useState(false);

  const linkVariants = {
    hover: { scale: 1.2, color: '#3b82f6', transition: { duration: 0.3 } }
  };

  const sectionVariants = {
    hidden: { opacity: 0, y: 50 },
    visible: { opacity: 1, y: 0, transition: { duration: 0.6 } }
  };

  const fadeUpVariants = {
    hidden: { opacity: 0, y: 20 },
    visible: { opacity: 1, y: 0, transition: { duration: 0.8 } }
  };

  const sections = ['home','about','skills','education','places','experience'];

  return (
    <div className={`${darkMode ? 'bg-gray-900 text-white' : 'bg-gray-50 text-black'} font-sans scroll-smooth transition-colors duration-500 relative`}> 
      {/* Navbar */}
      <nav className={`${darkMode ? 'bg-gray-800' : 'bg-white'} fixed top-0 left-0 w-full shadow z-50 p-4 flex justify-between items-center transition-colors duration-500`}> 
        <h1 className="text-xl font-bold">Niraj Khaniya</h1>
        <div className="space-x-6 flex items-center">
          {sections.map((item) => (
            <motion.a key={item} href={`#${item}`} whileHover="hover" variants={linkVariants} className="hover:underline transition duration-300 capitalize">
              {item}
            </motion.a>
          ))}
          <button onClick={() => setDarkMode(!darkMode)} className="ml-4 px-2 py-1 border rounded transition duration-300">{darkMode ? 'Light' : 'Dark'}</button>
        </div>
      </nav>

      {/* Home Section with moving particles and animated network lines */}
      <motion.section id='home' className="min-h-screen flex flex-col justify-center items-center p-10 relative overflow-hidden" initial="hidden" whileInView="visible" variants={sectionVariants} viewport={{ once: true }}>
        <Particles
          id="tsparticles"
          className="absolute top-0 left-0 w-full h-full -z-10"
          options={{
            background: { color: { value: darkMode ? "#1a202c" : "#f9fafb" } },
            fpsLimit: 60,
            particles: {
              number: { value: 80, density: { enable: true, area: 800 } },
              color: { value: darkMode ? "#ffffff" : "#000000" },
              shape: { type: "circle" },
              size: { value: 3, random: true },
              move: { enable: true, speed: 2, direction: "none", random: true, straight: false, outMode: "bounce", attract: { enable: true, rotateX: 600, rotateY: 1200 } },
              links: {
                enable: true,
                distance: 200,
                color: darkMode ? "#ffffff" : "#000000",
                opacity: 0.7,
                width: 1.5,
              },
            },
            interactivity: {
              events: {
                onHover: { enable: true, mode: "grab" },
                onClick: { enable: true, mode: "repulse" },
              },
              modes: { grab: { distance: 200, links: { opacity: 0.8 } }, repulse: { distance: 150, duration: 0.4 } }
            },
            detectRetina: true,
          }}
        />
        <motion.h2 className="text-4xl font-bold mb-6 capitalize z-10" variants={fadeUpVariants} initial="hidden" animate="visible">
          Hi, I'm Niraj ðŸ‘‹
        </motion.h2>
        <motion.p className="text-lg max-w-xl text-center z-10" variants={fadeUpVariants} initial="hidden" animate="visible">
          A passionate BBA student interested in Marketing, Sales & Supply Chain. I love building clean and modern web experiences.
        </motion.p>
        <motion.div className="flex space-x-6 mt-6 text-2xl z-10" initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 1.5, staggerChildren: 0.2 }}>
          <motion.a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" whileHover={{ scale: 1.2, color: '#3b82f6' }} className="transition duration-300"><FaLinkedin /></motion.a>
          <motion.a href="https://github.com" target="_blank" rel="noopener noreferrer" whileHover={{ scale: 1.2, color: '#9ca3af' }} className="transition duration-300"><FaGithub /></motion.a>
          <motion.a href="https://twitter.com" target="_blank" rel="noopener noreferrer" whileHover={{ scale: 1.2, color: '#3b82f6' }} className="transition duration-300"><FaTwitter /></motion.a>
        </motion.div>
      </motion.section>

      {/* Other Sections */}
      {sections.filter(s => s !== 'home').map((section) => (
        <motion.section key={section} id={section} className="min-h-screen flex flex-col justify-center items-center p-10" initial="hidden" whileInView="visible" variants={sectionVariants} viewport={{ once: true }}>
          <motion.h2 className="text-4xl font-bold mb-6 capitalize" variants={fadeUpVariants} initial="hidden" animate="visible">
            {section}
          </motion.h2>

          {section === 'skills' && (
            <motion.ul className="grid grid-cols-2 md:grid-cols-3 gap-3 text-lg" initial="hidden" whileInView="visible" variants={fadeUpVariants} viewport={{ once: true }}>
              {['Excel','PowerPoint','Word','Sales & Marketing','Data Analysis','Communication'].map((skill, i) => (
                <motion.li key={i} whileHover={{ scale: 1.1, color: '#3b82f6' }} className="transition-colors duration-300">{skill}</motion.li>
              ))}
            </motion.ul>
          )}

          {section === 'experience' && (
            <motion.div whileHover={{ scale: 1.05 }} className="p-6 rounded-2xl shadow max-w-xl transition-transform duration-300 border hover:border-blue-400" initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }}>
              <h3 className="text-2xl font-semibold">Sales Intern â€“ Bottlers Nepal</h3>
              <p className="mt-2 text-lg">Supported sales operations, distributor coordination, and field activities.</p>
            </motion.div>
          )}

          {section === 'education' && (
            <motion.div className="p-6 rounded-2xl shadow max-w-xl transition-transform duration-300 border hover:border-blue-400" initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }}>
              <h3 className="text-2xl font-semibold">Education</h3>
              <p className="mt-2 text-lg">BBA Student, Plus 2 from Aroma College</p>
            </motion.div>
          )}

          {section === 'places' && (
            <motion.div className="p-6 rounded-2xl shadow max-w-xl transition-transform duration-300 border hover:border-blue-400" initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }}>
              <h3 className="text-2xl font-semibold">Places</h3>
              <p className="mt-2 text-lg">Details about your favorite places, visits, or experiences here.</p>
            </motion.div>
          )}
        </motion.section>
      ))}

      {/* Footer */}
      <footer className="p-6 text-center border-t border-gray-300 dark:border-gray-700">Â© {new Date().getFullYear()} Niraj Khaniya. All rights reserved.</footer>
    </div>
  );
}
